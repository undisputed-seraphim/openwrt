// SPDX-License-Identifier: GPL-2.0-or-later OR MIT

#include <dt-bindings/interrupt-controller/mips-gic.h>


/dts-v1/;

/ {
	#address-cells = <1>;
	#size-cells = <1>;

	compatible = "realtek,rtl8198c-soc";

	cpuclock: cpuclock@0 {
		#clock-cells = <0>;
		compatible = "fixed-clock";
		clock-frequency = <1000000000>;
	};

	cpus {
		#address-cells = <1>;
		#size-cells = <0>;
		frequency = <1000000000>;

		cpu@0 {
			compatible = "mips,mips1074Kc";
			reg = <0>;
		};

		cpu@1 {
			compatible = "mips,mips1074Kc";
			reg = <1>;
		};
	};

	chosen {
		bootargs = "console=ttyS0,38400";
	};

	cmp@1fbf8000 {
		compatible = "mti,mips-cmp";
		reg = <0x1fbf8000 0x8000>;
	};

	cpc: cpc@1bde0000 {
		compatible = "mti,mips-cpc";
		reg = <0x1bde0000 0x8000>;
	};

	cpuintc: cpuintc {
		compatible = "mti,cpu-interrupt-controller";
		#address-cells = <0>;
		#interrupt-cells = <1>;
		interrupt-controller;
	};

	gic: interrupt-controller@1bdc0000 {
		compatible = "mti,gic";
		reg = <0x1bdc0000 0x20000>;

		interrupt-controller;
		#interrupt-cells = <3>;

		/*
		 * Declare the interrupt-parent even though the mti,gic
		 * binding doesn't require it, such that the kernel can
		 * figure out that cpu_intc is the root interrupt
		 * controller & should be probed first.
		 */
		interrupt-parent = <&cpuintc>;

		timer {
			compatible = "mti,gic-timer";
			interrupts = <GIC_LOCAL 1 IRQ_TYPE_NONE>;
			clocks = <&cpuclock>;
		};
	};

	soc: soc {
		compatible = "simple-bus";
		#address-cells = <1>;
		#size-cells = <1>;
		ranges = <0x0 0x18000000 0x10000>;

		uart0: uart@2000 {
			compatible = "ns16550a";
			reg = <0x2000 0x100>;

			clock-frequency = <200000000>;

			interrupt-parent = <&gic>;
			#interrupt-cells = <3>;
			interrupts = <GIC_SHARED 18 IRQ_TYPE_LEVEL_HIGH>;

			reg-io-width = <1>;
			reg-shift = <2>;
			fifo-size = <1>;
			no-loopback-test;
		};

	};

	pci0: pci@18b00000 {
		compatible = "realtek,rtl8198c-pci";
		#address-cells = <3>;
		#size-cells = <2>;
		bus-range = <0x00 0xff>;
		clocks = <&cpuclock>;
		device_type = "pci";
		interrupt-parent = <&gic>;
		interrupts = <GIC_SHARED 31 IRQ_TYPE_LEVEL_HIGH>;
		ranges = <0x02000000 0 0 0x19000000 0 0x01000000>, /* pci memory */
				 <0x01000000 0 0 0x18C00000 0 0x00200000>; /* io space */
		reg = <0x18B00000 0x1000
			   0x18B01000 0x1000
			   0x18B10000 0x1000
			   0x18B11000 0x1000>;
		reg-names = "rc_cfg", "rc_ext", "dev_cfg0", "dev_cfg1";
		slot-num = <0>;
	};

	pci1: pci@18b20000 {
		compatible = "realtek,rtl8198c-pci";
		#address-cells = <3>;
		#size-cells = <2>;
		bus-range = <0x00 0xff>;
		clocks = <&cpuclock>;
		device_type = "pci";
		interrupt-parent = <&gic>;
		interrupts = <GIC_SHARED 32 IRQ_TYPE_LEVEL_HIGH>;
		ranges = <0x02000000 0 0 0x1A000000 0 0x01000000>, /* pci memory */
				 <0x01000000 0 0 0x18E00000 0 0x00200000>; /* io space */
		reg = <0x18B20000 0x1000
			   0x18B21000 0x1000
			   0x18B30000 0x1000
			   0x18B31000 0x1000>;
		reg-names = "rc_cfg", "rc_ext", "dev_cfg0", "dev_cfg1";
		slot-num = <1>;
	};

	xhci: xhci@18040000 {
		compatible = "realtek,realtek-xhci";
		reg = <0x18040000 0x100000>;
		interrupt-parent = <&gic>;
		interrupts = <GIC_SHARED 34 IRQ_TYPE_LEVEL_HIGH>;
	};
};
